@page "/rxui"
@using ReactiveUI
@using System.Reactive.Threading.Tasks
@inject TestViewModel _viewModel
@implements IDisposable

<PageTitle>Counter</PageTitle>


<MudText Typo="Typo.h3" GutterBottom="true">ReactiveUI Test</MudText>
<MudButton Color="Color.Primary" Variant="Variant.Filled" @onclick="OnButtonClick">Click me</MudButton>
<MudTextField @bind-Value="_pageText" Variant="Variant.Outlined" Placeholder="Type Something" ></MudTextField>
@if (_viewModel.ShowAlert)
{
    <MudAlert Severity="Severity.Info">@_viewModel.CustomText</MudAlert>
}


@code {
    private string _pageText = string.Empty;
    

    protected override void OnInitialized()
    {
        base.OnInitialized();
    }

    private async Task OnButtonClick()
    {
        const string _ = "RxUI page says:";
        await _viewModel.SomeCommand.Execute(_ + _pageText).ToTask();
    }

    public void Dispose()
    {
        
    }
}
